<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Banjo Hero">
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" type="image/png" href="icon.png">
    <title>Banjo Hero</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            overscroll-behavior-x: none;
            -webkit-overflow-scrolling: touch;
            position: fixed;
            width: 100%;
            height: 100%;
        }
        #root {
            overflow-y: auto;
            overflow-x: hidden;
            height: 100%;
            -webkit-overflow-scrolling: touch;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
    const { useState, useEffect, useRef, useCallback } = React;

    // Music icon component
    const Music = ({ className }) => (
        <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="M9 18V5l12-2v13"></path>
            <circle cx="6" cy="18" r="3"></circle>
            <circle cx="18" cy="16" r="3"></circle>
        </svg>
    );

    const CelloBanjoFretboard = () => {
      const notes = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];
      
      // Generate tunings with correct display names
      const generateDefaultTunings = () => {
        const baseTunings = {
          'Open G': { 
            display: 'Open G (gDGBD)', 
            tuning: ['G2', 'D2', 'G2', 'B2', 'D3'],
            spikeAt: null
          },
          'Open A': { 
            display: 'Open A (aEAC#E)', 
            tuning: ['G2', 'E2', 'A2', 'C#3', 'E3'], 
            spikeAt: 7 
          },
          'Open D': { 
            display: 'Open D (aDF#AD)', 
            tuning: ['G2', 'D2', 'F#2', 'A2', 'D3'], 
            spikeAt: 7 
          },
          'Double C': { 
            display: 'Double C (gCGCD)', 
            tuning: ['G2', 'C2', 'G2', 'C3', 'D3'],
            spikeAt: null
          },
          'G Modal - Sawmill': { 
            display: 'G Modal - Sawmill (gDGCD)', 
            tuning: ['G2', 'D2', 'G2', 'C3', 'D3'],
            spikeAt: null
          },
          'D Modal': { 
            display: 'D Modal (aDGAD)', 
            tuning: ['G2', 'D2', 'G2', 'A2', 'D3'], 
            spikeAt: 7 
          },
        };

        const allTunings = {};
        
        Object.entries(baseTunings).forEach(([name, data]) => {
          allTunings[data.display] = { 
            tuning: data.tuning, 
            spikeAt: data.spikeAt 
          };
        });
        
        return allTunings;
      };

      const defaultTunings = useRef(generateDefaultTunings()).current;

      const tuningNotes = {
        'Open A (aEAC#E)': 'Spike capo G string at fret 7 to reach A',
        'Open D (aDF#AD)': 'Spike capo G string at fret 7 to reach A',
        'D Modal (aDGAD)': 'Spike capo G string at fret 7 to reach A',
      };

      // STATE - All useState declarations at the top
      const [tunings, setTunings] = useState(defaultTunings);
      const [selectedTuning, setSelectedTuning] = useState(Object.keys(defaultTunings)[0]);
      const [selectedNotes, setSelectedNotes] = useState([]);
      const [custom​​​​​​​​​​​​​​​​
